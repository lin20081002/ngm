(window.webpackJsonp=window.webpackJsonp||[]).push([[172],{1033:function(t,e,s){"use strict";s.d(e,"b",(function(){return c})),s.d(e,"a",(function(){return u})),s.d(e,"c",(function(){return d}));var r=s(1),n=s.n(r),a=s(9),i=s.n(a),o=s(1e3),l=s(5);class c extends Error{}class u extends Error{}var d=function(){var t=i()(n.a.mark((function t(e,s,r,a){var d,p,m,f,g,v,h,b,_,y=arguments;return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(d=y.length>4&&void 0!==y[4]?y[4]:"image_hosting",p=y.length>5&&void 0!==y[5]?y[5]:()=>{},console.debug("[utils:imageHosting:imageUploadProcedure] File to upload ",s),0===s.type.indexOf("image/")){t.next=5;break}throw new u;case 5:return m=!1,(s.size>512e3||0===r)&&(m=!0),p("正在获取上传信息"),t.next=10,e.$lfeGetRoute({name:"api.verify.captcha"});case 10:return f=t.sent,t.next=13,e.$lfeGetRoute({name:"api.image.generate_upload_link"});case 13:return g=t.sent,v="","image_hosting"===d&&(v="<p>您即将上传一张".concat(m?"高级空间":"普通图床","图片，大小 ").concat(Object(l.j)(s.size),"，并").concat(r>0?"使用".concat(a[r].name,"作为水印"):"不使用水印","。</p>")),t.next=18,e.$swal({title:"上传确认",html:v+'<img src="'.concat(f.href,"?_t=").concat((new Date).getTime(),'" id="--swal-image-hosting-upload-captcha" style="cursor: pointer;" onclick="this.src=\'').concat(f.href,"?_t=' + new Date().getTime()\" />"),input:"text",showCancelButton:!0,confirmButtonText:"提交",cancelButtonText:"取消",inputPlaceholder:"输入上面的验证码",inputValidator:function(){var t=i()(n.a.mark((function t(s){var a,i,o;return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.$swal.showLoading(),t.prev=1,""!==(a=s.trim())){t.next=5;break}return t.abrupt("return","请输入验证码");case 5:return t.next=7,Object(l.n)(g.href,{watermarkType:r,captcha:a,type:d});case 7:i=t.sent,h=i.uploadLink,t.next=16;break;case 11:return t.prev=11,t.t0=t.catch(1),window.document.getElementById("--swal-image-hosting-upload-captcha").click(),o=t.t0.response||{},t.abrupt("return","".concat(o.data?o.data.errorMessage:t.t0.message));case 16:return t.prev=16,e.$swal.hideLoading(),t.finish(16);case 19:case"end":return t.stop()}}),t,null,[[1,11,16,19]])})));return function(e){return t.apply(this,arguments)}}()});case 18:if(t.sent.value){t.next=21;break}throw new c;case 21:if(h){t.next=23;break}throw new Error("上传信息获取失败");case 23:return console.debug("[utils:imageHosting:imageUploadProcedure] credential",h),b=Object(o.a)(s,h),console.debug("[utils:imageHosting:imageUploadProcedure] payload",b),p("正在上传"),t.next=29,Object(o.b)(b,h.host,(t=>{var e=Math.floor(t.loaded/t.total*100*100)/100;p("已上传 ".concat(e,"%"))}));case 29:return _=t.sent,console.debug("[utils:imageHosting:imageUploadProcedure] response",_),t.abrupt("return",_);case 32:case"end":return t.stop()}}),t)})));return function(e,s,r,n){return t.apply(this,arguments)}}()},1163:function(t,e,s){},1164:function(t,e,s){},1165:function(t,e,s){},1166:function(t,e,s){},1167:function(t,e,s){},1168:function(t,e,s){},1169:function(t,e,s){},1170:function(t,e,s){},1171:function(t,e,s){var r=s(1464);"string"==typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);(0,s(119).default)("02a7d28a",r,!0,{})},1172:function(t,e,s){},1173:function(t,e,s){},1455:function(t,e,s){"use strict";s(1163)},1456:function(t,e,s){"use strict";s(1164)},1457:function(t,e,s){"use strict";s(1165)},1458:function(t,e,s){"use strict";s(1166)},1459:function(t,e,s){"use strict";s(1167)},1460:function(t,e,s){"use strict";s(1168)},1461:function(t,e,s){"use strict";s(1169)},1462:function(t,e,s){"use strict";s(1170)},1463:function(t,e,s){"use strict";s(1171)},1464:function(t,e,s){(e=s(118)(!1)).push([t.i,".tooltip[data-v-05afcf76]{font-size:.875rem;color:#fff;padding:.4em;position:absolute;background-color:rgba(0,0,0,.8);border-radius:.3em;pointer-events:none;opacity:0}.tooltip>*[data-v-05afcf76]{margin-bottom:1em}.tooltip>*[data-v-05afcf76]:last-child{margin-bottom:0}",""]),t.exports=e},1467:function(t,e,s){"use strict";s(1172)},1468:function(t,e,s){"use strict";s(1173)},1522:function(t,e,s){"use strict";s.r(e);var r=s(1),n=s.n(r),a=s(9),i=s.n(a),o=s(2),l=s(997),c=s.n(l),u=s(6),d=s(5),p=s(983),m=s(964),f={components:{LLink:u.m,LCard:u.b,LTag:u.y},props:{title:{type:String,default:null},problems:{type:Array,required:!0},isPassed:{type:Boolean,default:!1}},data:()=>({lateProblems:[]}),watch:{problems(){this.lateLoad()}},mounted(){this.lateLoad()},methods:{lateLoad(){setTimeout((()=>{this.lateProblems=this.isPassed?Object(o.groupBy)(this.problems,"difficulty"):this.problems}),0)}},asyncComputed:{problemDifficulty:{default:{},get(){var t=this;return i()(n.a.mark((function e(){return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.$lfeGetConfigAsync("problemDifficulty"));case 1:case"end":return e.stop()}}),e)})))()}}}},g=(s(1455),s(12)),v=Object(g.a)(f,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("l-card",[t.title?s("h3",{staticClass:"lfe-h3"},[t._v(t._s(t.title))]):t._e(),t._v(" "),t.isPassed?t._l(t.lateProblems,(function(e,r){return e?s("div",{key:r},[s("div",{staticClass:"difficulty"},[s("l-tag",{attrs:{color:(t.problemDifficulty[r]||{}).color}},[t._v("\n          "+t._s((t.problemDifficulty[r]||{}).name)+"\n        ")])],1),t._v(" "),s("div",{staticClass:"problems"},t._l(e,(function(e){var r=e.pid,n=e.title;return s("span",{key:r,staticClass:"problem-id"},[s("l-link",{attrs:{to:{name:"problem.show",params:{pid:r}},title:n}},[t._v(t._s(r))])],1)})),0)]):t._e()})):[s("div",{staticClass:"problems"},t._l(t.lateProblems,(function(e){var r=e.pid,n=e.title;return s("span",{key:r,staticClass:"problem-id"},[s("l-link",{attrs:{to:{name:"problem.show",params:{pid:r}},title:n}},[t._v(t._s(r))])],1)})),0)],t._v(" "),s("div",{staticClass:"lfe-caption caption"},[t._v("统计数据非实时更新。")])],2)}),[],!1,null,"1c7f56df",null).exports,h=s(999),b={components:{LCard:u.b,LTag:u.y,LTags:h.a},props:{difficulties:{type:Object,required:!0}},asyncComputed:{problemDifficulty:{get(){var t=this;return i()(n.a.mark((function e(){return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.$lfeGetConfigAsync("problemDifficulty"));case 1:case"end":return e.stop()}}),e)})))()},default:{}}},methods:{}},_=(s(1456),Object(g.a)(b,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("l-card",[s("h3",{staticClass:"lfe-h3"},[t._v("难易度统计")]),t._v(" "),s("div",{staticClass:"difficulty-tags"},t._l(t.problemDifficulty,(function(e){return s("div",{key:e.id,staticClass:"row"},[s("l-tag",{attrs:{color:e.color}},[t._v("\n        "+t._s(e.name)+"\n      ")]),t._v(" "),s("span",{staticClass:"problem-count"},[t._v(t._s(t.difficulties[e.id]||0)+"题")])],1)})),0),t._v(" "),s("div",{staticClass:"lfe-caption caption"},[t._v("统计数据非实时更新。")])])}),[],!1,null,"325cf452",null).exports),y=s(116),C=s(85),w=s(169),k=s(58),x=s(1033),T=s(8),L=s(4),S=s(28);T.c.add(L.Cb,L.ab,L.C,S.l,S.g,L.kb);var P="https://cdn.luogu.org/images/bg/fe/DSCF0530-shrink.jpg",M={components:{LCard:u.b,LText:u.z,LMenu:u.o,LSimpleStats:u.v,LButton:u.a,LFreeButton:u.i,LLink:u.m,LTag:u.y,UserFollowButton:w.a,UserName:C.a,CCFBadge:y.a,DropdownWrapper:k.a},props:{user:{type:Object,required:!0},currentUser:{type:Object,default:null},menuItems:{type:Array,required:!0},menuSelected:{type:String,default:null}},data(){return{showCoverUpdateBlock:!1,uploadProgress:null,editingSlogan:!1,updatingSlogan:!1,slogan:this.user.slogan}},computed:{backgroundImage(){var t=this.user.background||P;return"url('".concat(t.replace(/'/g,"\\'"),"')")},userRelations(){return(this.userRelationshipTypes[this.user.userRelationship.toString()]||{}).type||"Unrelated"},relationshipTypeIdMap(){return Object(o.fromPairs)(Object.values(this.userRelationshipTypes).map((t=>[t.type,t.id])))},isOwner(){return this.currentUser&&this.user.uid===this.currentUser.uid},isMobileMode(){return this.$lfeRoot.isMobileMode},userActionButtonComponent(){return this.isMobileMode?"l-button":"l-free-button"},userActionButtonSize(){return this.isMobileMode?"small":"middle"},decimalDigit(){return this.isMobileMode?0:2},statData(){var t=t=>({to:t,style:{color:"inherit"}}),e=[{key:"关注",value:Object(d.h)(this.user.followingCount,this.decimalDigit),link:t({hash:"#following.following"})},{key:"粉丝",value:Object(d.h)(this.user.followerCount,this.decimalDigit),link:t({hash:"#following.follower"})}];return this.user.hasOwnProperty("submittedProblemCount")&&null!==this.user.submittedProblemCount&&e.push({key:"提交",value:Object(d.h)(this.user.submittedProblemCount,this.decimalDigit),link:t({hash:"#practice"})}),this.user.hasOwnProperty("passedProblemCount")&&null!==this.user.passedProblemCount&&e.push({key:"通过",value:Object(d.h)(this.user.passedProblemCount,this.decimalDigit),link:t({hash:"#practice"})}),e.push({key:"排名",value:null!==this.user.ranking?Object(d.h)(this.user.ranking,this.decimalDigit):"-"}),"number"==typeof this.user.eloValue&&e.push({key:"等级分",value:this.user.eloValue,link:t({hash:"#practice"})}),e}},asyncComputed:{userRelationshipTypes:{get(){var t=this;return i()(n.a.mark((function e(){return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.$lfeGetConfigAsync("userRelationshipTypes"));case 1:case"end":return e.stop()}}),e)})))()},default:{}}},watch:{user(t){this.slogan=t.slogan,this.editingSlogan=this.updatingSlogan=!1},isMobileMode(){this.placeUserInfoBlock()}},mounted(){this.$nextTick(this.placeUserInfoBlock)},methods:{hideCoverUpdateBlock(){this.showCoverUpdateBlock=!1},placeUserInfoBlock(){this.isMobileMode?this.$refs.userHeader.parentNode.insertBefore(this.$refs.userInfo,this.$refs.userHeader.nextSibling):this.$refs.userHeader.insertBefore(this.$refs.userInfo,this.$refs.userAction)},avatarUrl:d.e,toggleBlacklist(){var t=this;return i()(n.a.mark((function e(){var s,r,a;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s="Blacklisted"===t.userRelations,e.next=3,t.$swal({title:"真的要将 ".concat(t.user.name," ").concat(s?"移出黑名单":"拉黑","吗？"),type:"warning",showCancelButton:!0,confirmButtonText:"确定",cancelButtonText:"取消"});case 3:if(!e.sent.value){e.next=19;break}return e.prev=5,e.next=8,t.$lfeGetRoute({name:"api.user.update_relation_ship"});case 8:return r=e.sent,a=t.relationshipTypeIdMap[s?"Unrelated":"Blacklisted"],e.next=12,Object(d.o)(r.href,{uid:t.user.uid,relationship:a});case 12:t.user.userRelationship=a,e.next=19;break;case 15:return e.prev=15,e.t0=e.catch(5),e.next=19,t.$generalRequestExceptionCatcher(e.t0,{toast:!0});case 19:case"end":return e.stop()}}),e,null,[[5,15]])})))()},saveDescription(){var t=this;return i()(n.a.mark((function e(){var s;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.editingSlogan=!1,t.updatingSlogan=!0,e.next=4,t.$lfeGetRoute({name:"api.user.update_slogan"});case 4:return s=e.sent,e.prev=5,e.next=8,Object(d.o)(s.href,{slogan:t.slogan});case 8:t.user.slogan=t.slogan,e.next=16;break;case 11:return e.prev=11,e.t0=e.catch(5),e.next=15,t.$generalRequestExceptionCatcher(e.t0,{toast:!0});case 15:t.slogan=t.user.slogan;case 16:t.updatingSlogan=!1;case 17:case"end":return e.stop()}}),e,null,[[5,11]])})))()},setCoverImage(t){var e=this;return i()(n.a.mark((function s(){var r;return n.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,e.$lfeGetRoute({name:"api.user.update_header_image"});case 2:return r=s.sent,s.prev=3,s.next=6,Object(d.o)(r.href,{imageID:t});case 6:e.$swalToastSuccess("应用成功"),s.next=14;break;case 9:return s.prev=9,s.t0=s.catch(3),s.next=13,e.$generalRequestExceptionCatcher(s.t0,{toast:!0});case 13:throw s.t0;case 14:case"end":return s.stop()}}),s,null,[[3,9]])})))()},resetCoverImage(){var t=this;return i()(n.a.mark((function e(){return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.setCoverImage(null);case 2:t.user.background=P,t.$root.currentUser.background=P,t.hideCoverUpdateBlock();case 5:case"end":return e.stop()}}),e)})))()},selectFileHandler(){var t=this;return i()(n.a.mark((function e(){var s,r;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!((s=t.$refs.fileInput).files.length>0)){e.next=10;break}return e.next=4,t.upload(s.files[0]);case 4:return r=e.sent,e.next=7,t.setCoverImage(r.id);case 7:t.user.background=r.url,t.$root.currentUser.background=r.url,t.hideCoverUpdateBlock();case 10:s.value="";case 11:case"end":return e.stop()}}),e)})))()},upload(t){var e=this;return i()(n.a.mark((function s(){var r;return n.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return e.uploadProgress="正在准备上传",s.prev=1,s.t0=x.c,s.t1=e,s.t2=t,s.next=7,e.$lfeGetConfigAsync("ImageHostingWatermarkTypes");case 7:return s.t3=s.sent,s.t4=t=>{e.uploadProgress=t},s.next=11,(0,s.t0)(s.t1,s.t2,0,s.t3,"image_hosting",s.t4);case 11:return r=s.sent,e.uploadProgress=null,s.abrupt("return",r.image);case 16:throw s.prev=16,s.t5=s.catch(1),s.t5 instanceof x.a?e.$swalError("格式错误","只可以上传图片"):s.t5 instanceof x.b?e.$swalToastInfo("您已取消上传"):e.$swalError("上传失败",s.t5.message),e.uploadProgress=null,s.t5;case 21:case"end":return s.stop()}}),s,null,[[1,16]])})))()}}},D=(s(1457),Object(g.a)(M,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("l-card",{attrs:{padding:"0"}},[s("div",{ref:"userHeader",staticClass:"user-header-top",style:{backgroundImage:t.backgroundImage}},[s("img",{staticClass:"avatar",attrs:{src:t.avatarUrl(t.user),alt:t.user.name}}),t._v(" "),s("div",{ref:"userInfo",staticClass:"user-info"},[s("div",{staticClass:"user-name"},[s("span",[t._v(t._s(t.user.name))]),t._v(" "),s("c-c-f-badge",{staticClass:"ccf-badge",attrs:{level:t.user.ccfLevel,link:""}}),t._v(" "),t.user.badge?s("l-tag",{staticStyle:{"font-size":".875rem","vertical-align":"middle"},attrs:{color:"user-color-"+t.user.color}},[t._v("\n          "+t._s(t.user.badge)+"\n        ")]):t._e()],1),t._v(" "),s("div",{staticClass:"lfe-caption",on:{click:function(e){t.isOwner&&!t.updatingSlogan&&(t.editingSlogan=!0)}}},[t.editingSlogan?s("l-text",{staticClass:"input",attrs:{size:"middle"},on:{blur:t.saveDescription,keyup:[function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.saveDescription(e)},function(e){if(!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"]))return null;t.editingSlogan=!1}]},model:{value:t.slogan,callback:function(e){t.slogan=e},expression:"slogan"}}):[t.updatingSlogan?s("font-awesome-icon",{attrs:{icon:"spinner-third",spin:""}}):t._e(),t._v("\n          "+t._s(t.slogan||"这个家伙很懒，什么也没有留下")+"\n        ")]],2)]),t._v(" "),s("div",{ref:"userAction",staticClass:"user-action",staticStyle:{"font-size":".875em"}},[t.user.blogAddress?s("l-link",{attrs:{to:t.user.blogAddress,"raw-link":"","color-scheme":"none"}},[s(t.userActionButtonComponent,{tag:"component",staticClass:"btn",attrs:{size:t.userActionButtonSize}},[s("font-awesome-icon",{attrs:{icon:"rss"}}),t._v(" "+t._s(t.isMobileMode?"":"个人")+"博客\n        ")],1)],1):t._e(),t._v(" "),t.isOwner?[s("l-link",{attrs:{to:{name:"user.setting"},"color-scheme":"none"}},[s(t.userActionButtonComponent,{tag:"component",staticClass:"btn btn-config",attrs:{size:t.userActionButtonSize}},[s("font-awesome-icon",{attrs:{icon:"user-cog"}}),t._v(" "+t._s(t.isMobileMode?"":"个人")+"设置\n          ")],1)],1)]:t.currentUser?[s("l-link",{attrs:{to:{name:"chat.list",query:{uid:t.user.uid}},"color-scheme":"none"}},[s(t.userActionButtonComponent,{tag:"component",staticClass:"btn",attrs:{size:t.userActionButtonSize}},[s("font-awesome-icon",{attrs:{icon:"envelope"}}),t._v(" 私信\n          ")],1)],1),t._v(" "),s("user-follow-button",{attrs:{size:t.userActionButtonSize,"free-button":!t.isMobileMode,user:t.user}}),t._v(" "),s("dropdown-wrapper",{attrs:{inline:"",align:"right"}},[s("span",{staticStyle:{cursor:"pointer","font-size":"1.125em",margin:"auto 6px"},attrs:{slot:"trigger"},slot:"trigger"},[s("font-awesome-icon",{attrs:{icon:["far","ellipsis-v"]}})],1),t._v(" "),s("div",{staticClass:"dropdown-operations",attrs:{slot:"dropdown"},slot:"dropdown"},[s("ul",[s("li",{style:{color:t.$lfeGetColor("red-3")},on:{click:t.toggleBlacklist}},[t._v("\n                "+t._s("Blacklisted"===t.userRelations?"取消":"")+"屏蔽\n              ")]),t._v(" "),t.currentUser.isAdmin?s("l-link",{attrs:{to:"/webadmin/user/edit/"+t.user.uid,"raw-link":"",blank:"","color-scheme":"none"}},[s("li",{style:{color:t.$lfeGetColor("purple-3")}},[t._v("\n                  管理用户\n                ")])]):t._e(),t._v(" "),s("l-link",{attrs:{to:{name:"report",params:{type:"user"},query:{id:t.user.uid}},"color-scheme":"none"}},[s("li",{style:{color:t.$lfeGetColor("red-3")}},[t._v("\n                  举报 TA\n                ")])])],1)])])]:t._e()],2),t._v(" "),t.isOwner?s("div",[s("div",{staticClass:"cover-upload",class:{hide:!t.showCoverUpdateBlock}},[s("h2",{staticClass:"lfe-h2"},[t._v("更改封面")]),t._v(" "),s("div",[s("div",{staticStyle:{"min-width":"30%"}},[s("input",{ref:"fileInput",staticStyle:{display:"none"},attrs:{type:"file",accept:"image/*"},on:{change:t.selectFileHandler}}),t._v(" "),s("p",[t.uploadProgress?[t._v("\n                "+t._s(t.uploadProgress)+"\n                 \n              ")]:t._e(),t._v(" "),s("l-button",{attrs:{size:"small",solid:""},on:{click:function(e){return t.$refs.fileInput.click()}}},[t._v("上传到洛谷图床")]),t._v(" "),t.user.background?s("l-button",{attrs:{size:"small",solid:""},on:{click:t.resetCoverImage}},[t._v("\n                重置为默认图片\n              ")]):t._e()],2)]),t._v(" "),s("div",{staticClass:"lfe-caption"},[t._v("\n            上传图片将占用个人图床高级空间，建议图片尺寸至少为1800px*600px。\n            "),s("br"),t._v("\n            为了文字可读性，请不要使用浅色系的背景图片。\n          ")])]),t._v(" "),s("div",{staticStyle:{float:"right"}},[s("l-button",{on:{click:t.hideCoverUpdateBlock}},[t._v("取消")])],1)]),t._v(" "),s("span",{staticClass:"icon-change-cover",on:{click:function(e){t.showCoverUpdateBlock=!0}}},[s("svg",{attrs:{width:"14",height:"19",viewBox:"0 0 14 19",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[s("path",{attrs:{d:"M8.125 0.25H12.0625C12.9766 0.25 13.75 1.02344 13.75 1.9375V9.25H0.25V1.9375C0.25 1.02344 0.988281 0.25 1.9375 0.25H2.5L3.625 2.5L4.75 0.25H5.875L7 2.5L8.125 0.25ZM13.75 10.375V11.5C13.75 12.7656 12.7305 13.75 11.5 13.75H9.25V16C9.25 17.2656 8.23047 18.25 7 18.25C5.73438 18.25 4.75 17.2656 4.75 16V13.75H2.5C1.23438 13.75 0.25 12.7656 0.25 11.5V10.375H13.75ZM7 16.5625C7.28125 16.5625 7.5625 16.3164 7.5625 16C7.5625 15.7188 7.28125 15.4375 7 15.4375C6.68359 15.4375 6.4375 15.7188 6.4375 16C6.4375 16.3164 6.68359 16.5625 7 16.5625Z",fill:"#D8D8D8"}})])])]):t._e()]),t._v(" "),s("div",{staticClass:"user-header-bottom"},[s("l-menu",{attrs:{items:t.menuItems,value:t.menuSelected},on:{input:function(e){return t.$emit("menu-select",arguments[0])}}}),t._v(" "),s("div",{staticClass:"user-stat-data lfe-caption"},[s("l-simple-stats",{attrs:{fields:t.statData,tiled:t.isMobileMode}})],1)],1)])}),[],!1,null,"198686cd",null).exports);T.c.add(S.m,L.Bb);var $={components:{UserName:C.a,UserFollowButton:w.a,LTag:u.y,LSimpleStats:u.v,LButton:u.a},props:{user:{type:Object,required:!0},hideFollowedMe:{type:Boolean,default:!1}},computed:{isMe(){return(this.$root.currentUser||{}).uid===this.user.uid},decimalDigit(){return this.isMobileMode?0:2},statData(){var t=t=>({to:{name:"user.show",params:{uid:this.user.uid},hash:t},style:{color:"inherit"}}),e=[{key:"关注",value:Object(d.h)(this.user.followingCount,this.decimalDigit),link:t("#following.following")},{key:"粉丝",value:Object(d.h)(this.user.followerCount,this.decimalDigit),link:t("#following.follower")}];return this.user.hasOwnProperty("submittedProblemCount")&&null!==this.user.submittedProblemCount&&e.push({key:"提交",value:Object(d.h)(this.user.submittedProblemCount,this.decimalDigit),link:t("#practice")}),this.user.hasOwnProperty("passedProblemCount")&&null!==this.user.passedProblemCount&&e.push({key:"通过",value:Object(d.h)(this.user.passedProblemCount,this.decimalDigit),link:t("#practice")}),e.push({key:"排名",value:this.user.ranking?Object(d.h)(this.user.ranking,this.decimalDigit):"-"}),"number"==typeof this.user.eloValue&&e.push({key:"等级分",value:this.user.eloValue}),e},isMobileMode(){return this.$lfeRoot.isMobileMode},userRelations(){return{forward:(this.userRelationshipTypes[String(this.user.userRelationship)]||{}).type||"Unrelated",reverse:(this.userRelationshipTypes[String(this.user.reverseUserRelationship)]||{}).type||"Unrelated"}}},asyncComputed:{userRelationshipTypes:{get(){var t=this;return i()(n.a.mark((function e(){return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.$lfeGetConfigAsync("userRelationshipTypes"));case 1:case"end":return e.stop()}}),e)})))()},default:{}}},methods:{avatarUrl:d.e}},O=(s(1458),Object(g.a)($,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"follow-container"},[s("div",{staticClass:"follow-left"},[s("div",{staticClass:"avatar"},[s("img",{attrs:{src:t.avatarUrl(t.user)}})]),t._v(" "),s("div",{staticClass:"avatar-right"},[s("user-name",{attrs:{user:t.user,badge:"","no-card":""}}),t._v(" "),"Following"!==t.userRelations.reverse||t.isMobileMode?t._e():["Following"===t.userRelations.forward?s("l-tag",[s("font-awesome-icon",{attrs:{icon:["far","exchange"]}}),t._v(" \n          互相关注\n        ")],1):t.hideFollowedMe?t._e():s("l-tag",[s("font-awesome-icon",{attrs:{icon:["fas","user-check"]}}),t._v(" \n          关注了你\n        ")],1)],t._v(" "),s("div",{staticClass:"description"},[t._v(t._s(t.user.slogan))]),t._v(" "),t.isMobileMode?t._e():s("l-simple-stats",{attrs:{fields:t.statData,tiled:""}})],2)]),t._v(" "),!t.isMe&&t.$root.currentUser?s("div",{staticClass:"follow-action"},[s("user-follow-button",{staticClass:"btn-follow",attrs:{user:t.user}})],1):t._e()])}),[],!1,null,"dfed3c70",null).exports),R=s(980),j=s(970);T.c.add(L.Gb);var B={components:{LLink:u.m,LTag:u.y},props:{teamMember:{type:Object,required:!0}},asyncComputed:{teamMemberType:{default:{},get(){var t=this;return i()(n.a.mark((function e(){var s;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$lfeGetConfigAsync("teamMemberTypes");case 2:return s=e.sent,e.abrupt("return",s[t.teamMember.type]||{});case 4:case"end":return e.stop()}}),e)})))()},watch(){return this.teamMember.type}}}},q=(s(1459),Object(g.a)(B,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"inner-card"},[s("div",{staticClass:"team-id"},[t._v(t._s(t.teamMember.team.id))]),t._v(" "),t.teamMember.team.isPremium?s("font-awesome-icon",{staticClass:"team-vip",staticStyle:{color:"var(--lfe-color--vip)"},attrs:{icon:"users"}}):t._e(),t._v(" "),s("l-link",{staticClass:"team-name",attrs:{to:{name:"team.show",params:{id:t.teamMember.team.id}},"color-scheme":"none"}},[t._v("\n    "+t._s(t.teamMember.team.name)+"\n  ")]),t._v(" "),s("div",{staticClass:"team-right"},[s("l-tag",{staticClass:"team-authority",attrs:{color:"primary"}},[t._v("\n      "+t._s(t.teamMemberType.name)+"\n    ")])],1)],1)}),[],!1,null,"9f3e9b0a",null).exports),I=s(1357),U=s(1360),E={components:{LLink:u.m,LTime:u.A,UserName:C.a},props:{post:{type:Object,required:!0}}},F=(s(1460),Object(g.a)(E,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"inner-card"},[s("div",{staticClass:"box left-box"},[s("l-link",{staticClass:"post-name",attrs:{to:{name:"discuss.show",params:{id:t.post.id}},"color-scheme":"none"}},[t._v("\n      "+t._s(t.post.title)+"\n    ")]),t._v(" "),s("div",{staticClass:"post-source"},[t._v("\n      发布于 \n      "),s("l-link",{attrs:{to:{name:"discuss.list",query:{forum:t.post.forum.slug}},"color-scheme":"none"}},[t._v("\n        "+t._s(t.post.forum.name)+"\n      ")])],1)],1),t._v(" "),s("div",{staticClass:"box middle-box"},[s("div",{staticClass:"create-time"},[s("span",{staticClass:"item-title"},[t._v("发帖时间")]),t._v(" \n      "),s("l-time",{attrs:{time:t.post.time,format:"MM-dd hh:mm"}})],1)]),t._v(" "),s("div",{staticClass:"box right-box"},[s("div",{staticClass:"last-reply-author"},[s("span",{staticClass:"item-title"},[t._v("最新回复")]),t._v(" \n      "),t.post.recentReply?s("user-name",{attrs:{user:t.post.recentReply.author}}):s("span",[t._v("无")])],1),t._v(" "),s("div",{staticClass:"last-reply-time"},[s("span",{staticClass:"item-title"},[t._v("回复时间")]),t._v(" \n      "),t.post.recentReply?s("l-time",{attrs:{time:t.post.recentReply.time,format:"MM-dd hh:mm"}}):s("span",[t._v("无")])],1)])])}),[],!1,null,"e7b78994",null).exports),z=s(37);T.c.add(z.o,z.t,z.v,S.g);var G={components:{DropdownWrapper:k.a,UserName:C.a,LMarked:u.n},props:{feed:{type:Object,required:!0}},computed:{isOwner(){return this.$root.currentUser&&this.feed.user.uid===this.$root.currentUser.uid}},methods:{deleteFeed(){var t=this;return i()(n.a.mark((function e(){return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$swal({title:"真的要将这条动态删除吗？",type:"warning",showCancelButton:!0,confirmButtonText:"确定",cancelButtonText:"取消"});case 2:if(!e.sent.value){e.next=16;break}return e.prev=4,e.next=7,Object(d.o)("/api/feed/delete/".concat(t.feed.id),{});case 7:if(200===e.sent.status){e.next=10;break}throw new Error("删除失败");case 10:t.$emit("deleted"),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(4),t.$generalRequestExceptionCatcher(e.t0,{toast:!0});case 16:case"end":return e.stop()}}),e,null,[[4,13]])})))()},avatarUrl:d.e}},A=(s(1461),Object(g.a)(G,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"feed"},[s("div",{staticClass:"avatar"},[s("img",{attrs:{src:t.avatarUrl(t.feed.user)}})]),t._v(" "),s("div",{staticClass:"main"},[s("div",{staticClass:"meta"},[s("user-name",{attrs:{user:t.feed.user,badge:""}}),t._v(" "),s("span",{staticClass:"lfe-caption",staticStyle:{color:"#7f7f7f"},attrs:{title:t.$moment(1e3*t.feed.time).format("LLL")}},[t._v("\n        "+t._s(t._f("moment")(1e3*t.feed.time,"from"))+"\n      ")])],1),t._v(" "),s("div",{staticClass:"content"},[s("l-marked",{staticClass:"rendered",attrs:{content:t.feed.content}})],1)]),t._v(" "),t.isOwner?s("div",{staticClass:"more"},[s("dropdown-wrapper",{attrs:{inline:"",align:"right"}},[s("span",{staticStyle:{cursor:"pointer","font-size":"1.125em",margin:"auto 6px"},attrs:{slot:"trigger"},slot:"trigger"},[s("font-awesome-icon",{staticStyle:{color:"#7f7f7f"},attrs:{icon:["far","chevron-down"],size:"xs"}})],1),t._v(" "),s("div",{staticClass:"dropdown-operations",attrs:{slot:"dropdown"},slot:"dropdown"},[s("ul",[s("li",{on:{click:t.deleteFeed}},[t._v("\n            删除\n          ")])])])])],1):t._e()])}),[],!1,null,"850ecb10",null).exports),Y={components:{LCard:u.b,FeedFallItem:A,SpinnerCircle:R.a},props:{user:{type:Object,required:!0}},data:()=>({feeds:[],page:0,loading:!1}),watch:{user(){this.feeds=[],this.page=0,this.loadMore()}},mounted(){this.$nextTick(this.loadMore),document.addEventListener("scroll",this.scrollEventHandler)},beforeDestroy(){document.removeEventListener("scroll",this.scrollEventHandler)},methods:{scrollEventHandler(t){var e=t.target.scrollingElement;e.scrollHeight-e.scrollTop-window.innerHeight<400&&this.throttledLoadMore()},loadMore(){var t=this;return i()(n.a.mark((function e(){return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.getFeeds(t.page+1));case 1:case"end":return e.stop()}}),e)})))()},throttledLoadMore:Object(o.throttle)((function(){return this.loadMore()}),2e3),getFeeds(t){var e=this;return i()(n.a.mark((function s(){var r,a;return n.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return e.page=t,e.loading=!0,s.prev=2,s.next=5,e.$lfeGetRoute({name:"api.feed.list",query:{user:e.user.uid,page:t}});case 5:return r=s.sent,s.next=8,Object(d.n)(r.href);case 8:a=s.sent,a.feeds.result.map((t=>e.feeds.push(t))),s.next=17;break;case 13:return s.prev=13,s.t0=s.catch(2),s.next=17,e.$generalRequestExceptionCatcher(s.t0,{toast:!0});case 17:e.loading=!1;case 18:case"end":return s.stop()}}),s,null,[[2,13]])})))()}}},H=(s(1462),Object(g.a)(Y,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{ref:"list",staticClass:"wrapper"},[t._l(t.feeds,(function(e,r){return s("feed-fall-item",{key:e.id,attrs:{feed:e},on:{deleted:function(e){return t.feeds.splice(r,1)}}})})),t._v(" "),t.loading||0!==t.feeds.length?t._e():s("p",[t._v("没有更多了")]),t._v(" "),t.loading?s("spinner-circle",{staticStyle:{margin:"0 auto"},attrs:{size:{side:"32px",border:"2px"},dark:""}}):t.page>1||null===t.page?s("div",{staticClass:"lfe-caption load-more",on:{click:t.loadMore}},[t._v("\n    点击加载更多\n  ")]):t._e()],2)}),[],!1,null,"20cf19dd",null).exports),V=s(990),J=s(1065),N=s(1359),W=s(25),X=s.n(W),Z={props:{context:{type:Object,default:()=>{}}},data:()=>({group:[],position:{},tooltipModel:{},preRating:0,style:{},inited:!1}),computed:{records(){return this.context.group||[]}},watch:{context(t){var e=e=>(t||{})[e];this.group=e("group")||[],this.position=e("position")||{},this.tooltipModel=e("tooltipModel")||{},this.preRating=e("preRating")||0,this.$nextTick((()=>{var t=this.$refs.tooltip||{},e=t.offsetHeight||0,s=t.offsetWidth||0,r=this.position.left+window.pageXOffset+this.tooltipModel.caretX;r>(this.position.left+this.position.right)/2&&(r-=s),r<0&&(r=0);var n=this.position.top+window.pageYOffset+this.tooltipModel.caretY-e/2;this.inited||(this.style={left:r+"px",top:n+"px"}),this.$nextTick((()=>{this.style={left:r+"px",top:n+"px",transition:"all, 210ms",opacity:0!==this.tooltipModel.opacity?1:0}})),this.inited=!0}))}}},K=(s(1463),Object(g.a)(Z,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{ref:"tooltip",staticClass:"tooltip",style:t.style},t._l(t.group,(function(e,r){return s("div",{key:r},[s("b",[t._v(t._s(e.contest.name))]),t._v(" "),s("br"),t._v(" "),s("span",{staticStyle:{color:"#7f7f7f"}},[t._v("\n      "+t._s(t._f("moment")(1e3*e.contest.startTime,"YYYY-MM-DD HH:mm"))+" ~\n      "+t._s(t._f("moment")(1e3*e.contest.endTime,"YYYY-MM-DD HH:mm"))+"\n    ")]),t._v(" "),s("br"),t._v(" "),s("span",[t._v("\n      等级分：\n      "),e.prev?[t._v("\n        "+t._s(e.prev.rating)+"\n        "),s("b",{style:{color:t.$lfeGetColor(e.ratingDiff<0?"red-3":"green-3")}},[t._v("\n          "+t._s(e.ratingDiff>=0?"+":"-")+"\n          "+t._s(Math.abs(e.ratingDiff))+"\n        ")]),t._v("\n        =\n      ")]:t._e(),t._v(" "),s("b",[t._v(t._s(e.rating))])],2),t._v(" "),e.highest?s("i",[s("br"),t._v("达成历史最高")]):t._e()])})),0)}),[],!1,null,"05afcf76",null).exports),Q=s(1465);s(1466);function tt(t,e){var s;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(s=function(t,e){if(!t)return;if("string"==typeof t)return et(t,e);var s=Object.prototype.toString.call(t).slice(8,-1);"Object"===s&&t.constructor&&(s=t.constructor.name);if("Map"===s||"Set"===s)return Array.from(t);if("Arguments"===s||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return et(t,e)}(t))||e&&t&&"number"==typeof t.length){s&&(t=s);var r=0,n=function(){};return{s:n,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,o=!1;return{s:function(){s=t[Symbol.iterator]()},n:function(){var t=s.next();return i=t.done,t},e:function(t){o=!0,a=t},f:function(){try{i||null==s.return||s.return()}finally{if(o)throw a}}}}function et(t,e){(null==e||e>t.length)&&(e=t.length);for(var s=0,r=new Array(e);s<e;s++)r[s]=t[s];return r}var st={components:{UserEloChartTooltip:K,SpinnerCircle:R.a,LCard:u.b,LButton:u.a},props:{uid:{type:Number,default:1},title:{type:String,default:""}},data:()=>({groupedRecords:[],loading:!0,tooltipContext:null,recordGroupSelected:void 0}),mounted(){var t=this;return i()(n.a.mark((function e(){return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.init();case 2:t.drawChart();case 3:case"end":return e.stop()}}),e)})))()},methods:{init(){var t=this;return i()(n.a.mark((function e(){var s,r,a,i,l,c,u;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s=1,r=1,a=[];case 3:if(!(a.length<s)){e.next=16;break}return e.next=6,t.$lfeGetRoute({name:"api.rating.elo",query:{user:t.uid,page:r,limit:50}});case 6:return i=e.sent,e.next=9,Object(d.n)(i.href);case 9:l=e.sent,c=l.records,s=c.count,a.push(...c.result),++r,e.next=3;break;case 16:a.reverse(),u=Math.max(...a.map((t=>t.rating))),a.forEach(((t,e,s)=>{t.rating===u&&(t.highest=!0),t.ratingDiff=t.ratingPrev=t.prev=null,e&&(t.prev=s[e-1],t.ratingPrev=t.prev.rating,t.ratingDiff=t.rating-t.ratingPrev)})),t.groupedRecords=Object.entries(Object(o.groupBy)(a,(e=>t.$moment(1e3*e.time).format("YYYY-MM-DD"))));case 20:case"end":return e.stop()}}),e)})))()},drawChart(){new Q.a(document.getElementById("rating-chart"),{type:"line",data:{labels:this.groupedRecords.map((t=>{var e=X()(t,2),s=e[0];e[1];return s})),datasets:[{data:this.groupedRecords.map((t=>{var e=X()(t,2),s=e[0],r=e[1];return{x:new Date(s).getTime(),y:Math.max(...r.map((t=>t.rating))),highest:r.some((t=>t.highest)),records:r}})),borderColor:t=>this.$lfeGetColor((t.raw||{}).highest?"red-3":"primary"),spanGaps:!0,segment:{borderWidth:2,borderColor:this.$lfeGetColor("primary")}}]},options:{plugins:{legend:{display:!1},tooltip:{enabled:!1,external:this.externalTooltip}},scales:{x:{type:"time",time:{unit:"quarter",displayFormats:{quarter:"YYYY-MM"}},title:{display:!1}},y:{title:{display:!1},ticks:{stepSize:400}}},elements:{point:{radius:3,backgroundColor:"#ffffff",borderWidth:2}},onClick:t=>{var e=t.chart.getElementsAtEventForMode(t,"nearest",{intersect:!0},!0)[0];if(e&&!this.$lfeRoot.isMobileMode){var s=e.element;s&&s.raw&&s.raw.records&&this.openContestsInGroup(s.raw.records)}}}}),this.loading=!1},externalTooltip(t){var e=t.tooltip,s=t.chart;if(console.log(e),e&&e.dataPoints.length){var r=e.dataPoints[0].raw;r&&(this.recordGroupSelected=1===e.opacity?r.records:void 0,this.tooltipContext={group:r.records,position:s.canvas.getBoundingClientRect(),tooltipModel:e})}},openContestsInGroup(t){var e,s=tt(t);try{for(s.s();!(e=s.n()).done;){var r=e.value,n=this.$router.resolve({name:"contest.show",params:{id:r.contest.id}});window.open(n.href)}}catch(t){s.e(t)}finally{s.f()}}}},rt=(s(1467),Object(g.a)(st,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("l-card",[s("div",{staticStyle:{display:"inline"}},[s("span",{staticClass:"lfe-h3"},[t._v(t._s(t.title))]),t._v(" "),t.$lfeRoot.isMobileMode?s("span",{staticClass:"fa-pull-right"},[t.recordGroupSelected?s("l-button",{attrs:{solid:""},on:{click:function(e){return t.openContestsInGroup(t.recordGroupSelected)}}},[t._v("打开比赛页面")]):s("span",{staticClass:"hint"},[t._v("选中记录后可打开比赛页面")])],1):s("span",{staticClass:"hint fa-pull-right"},[t._v("点击记录可打开比赛页面")])]),t._v(" "),t.loading?s("spinner-circle",{staticStyle:{margin:"1.5rem auto 0"},attrs:{dark:"",size:"large"}}):t._e(),t._v(" "),s("canvas",{attrs:{id:"rating-chart"}}),t._v(" "),s("user-elo-chart-tooltip",{attrs:{context:t.tooltipContext}})],1)}),[],!1,null,"98eaadf6",null).exports),nt=s(68);T.c.add(L.f,nt.e,L.kb,L.Y,nt.h);var at={components:{UserEloChart:rt,LMarked:u.n,LCard:u.b,LLink:u.m,LButton:u.a,LSimpleSelect:u.u,LFlexInfoRows:V.a,MarkdownPalettes:c.a,CCFBadge:y.a,ActivityBlock:H,PostListItem:F,ContestListItem:U.a,UserListItem:O,MyTrainingCard:I.a,MyTeamCard:q,ListPageListBlock:j.a,SpinnerCircle:R.a,SidebarLayout:p.a,FullLayout:m.a,ProblemIdListBlock:v,DifficultyStatisticsBlock:_,UserHeaderBlock:D,ProblemListBlock:J.a,MyProblemCard:N.a},props:{currentData:{type:Object,required:!0},currentUser:{type:Object,default:null}},data:()=>({introductionDraft:"",introductionUpdating:!1,updateIntroduction:!1,difficulties:[],followList:null,followListCurrentPage:1,joinedContestList:null,joinedContestListCurrentPage:1,myTrainingList:null,myTrainingListCurrentPage:1,myProblemList:null,myProblemListCurrentPage:1,myContestList:null,myContestListCurrentPage:1,myDiscussPostList:null,myDiscussPostListCurrentPage:1,favoriteTrainingList:null,favoriteTrainingListCurrentPage:1,requesting:!1,myDiscussPostOrderItems:[{id:"sendTime",value:"发帖时间"},{id:"replyTime",value:"回复时间"}],myDiscussPostOrderSelected:"sendTime"}),computed:{practiceDisplayDetail(){return{practice:this.currentData.submittedProblems&&this.currentData.passedProblems,elo:null!==this.user.elo}},user(){return this.currentData.user},isOwner(){return this.currentUser&&this.user.uid===this.currentUser.uid},passedProblemDifficulties(){return this.currentData.passedProblems?Object(o.countBy)(this.currentData.passedProblems,"difficulty"):{}},selectedTabs:{get(){var t={};return this.$route.hash.slice(1).split(".").reduce(((e,s)=>{if(!e)return null;var r=s||"";return t[e]=r.length>0?r:null,t[e]}),"menu"),t},set(t){this.$router.push({hash:"#".concat(t.menu)+(t[t.menu]?".".concat(t[t.menu]):"")})}},menuSelected:{get(){return this.selectedTabs.menu||"main"},set(t){this.setSelectedTab("menu",t)}},followingTabSelected:{get(){return this.selectedTabs.following||"following"},set(t){this.setSelectedTab("following",t)}},mineTabSelected:{get(){return this.selectedTabs.mine||"post"},set(t){this.setSelectedTab("mine",t)}},problemTabSelected:{get(){return this.selectedTabs.problem||"problem"},set(t){this.setSelectedTab("problem",t)}},favoriteTabSelected:{get(){return this.selectedTabs.favorite||"training"},set(t){this.setSelectedTab("favorite",t)}},mineTabItems(){return this.$lfeRoot.isMobileMode?[{id:"post",value:"帖子"},{id:"team",value:"团队"},{id:"contest",value:"比赛"}]:[{id:"post",value:"我发布的帖子"},{id:"team",value:"我加入的团队"},{id:"contest",value:"我参加的比赛"}]},problemTabItems(){return this.$lfeRoot.isMobileMode?[{id:"problem",value:"题目"},{id:"contest",value:"比赛"},{id:"training",value:"题单"}]:[{id:"problem",value:"我创建的题目"},{id:"contest",value:"我创建的比赛"},{id:"training",value:"我创建的题单"}]},favoriteTabItems(){return this.$lfeRoot.isMobileMode?[{id:"training",value:"题单"}]:[{id:"training",value:"我收藏的题单"}]},menuItems(){var t=[];t.push({id:"main",value:"主页"}),t.push({id:"activity",value:"动态"}),(this.practiceDisplayDetail.practice||this.practiceDisplayDetail.elo)&&t.push({id:"practice",value:"练习"});var e=[];return this.isOwner&&(e.push({id:"mine",value:"我的"}),e.push({id:"problem",value:"题库"})),e.push({id:"following",value:"关注"}),this.isOwner&&e.push({id:"favorite",value:"收藏"}),this.$lfeRoot.isMobileMode?t.push({id:"more",value:"更多",children:e}):e.forEach((e=>t.push(e))),t},followingTabItems(){var t=[];return this.isOwner?t.push({id:"following",value:"我关注的人"},{id:"follower",value:"关注我的人"},{id:"blacklist",value:"我拉黑的人"}):t.push({id:"following",value:"TA 关注的人"},{id:"follower",value:"关注 TA 的人"}),t}},watch:{updateIntroduction(t,e){t&&!e&&(this.introductionDraft=this.user.introduction)},selectedTabs(){this.resetLists()}},mounted(){this.$nextTick((()=>this.resetLists()))},methods:{setSelectedTab(t,e){this.selectedTabs="menu"!==t?{menu:this.selectedTabs.menu,[t]:e}:{menu:e}},resetLists(){"following"===this.selectedTabs.menu?this.resetFollowList():"mine"===this.selectedTabs.menu?"post"===this.mineTabSelected?this.resetMyDiscussPostList():"contest"===this.mineTabSelected?this.resetJoinedContestList():"training"===this.mineTabSelected&&this.resetMyTrainingList():"favorite"===this.selectedTabs.menu?"training"===this.favoriteTabSelected&&this.resetFavoriteTrainingList():"problem"===this.selectedTabs.menu&&("training"===this.problemTabSelected?this.resetMyTrainingList():"problem"===this.problemTabSelected?this.resetMyProblemList():"contest"===this.problemTabSelected&&this.resetMyContestList())},getTotalPage:t=>t?Math.ceil(t.count/t.perPage):0,resetFollowList(){this.followList=null,this.followListCurrentPage=1,this.requestFollowPage(1)},resetJoinedContestList(){this.joinedContestList=null,this.joinedContestListCurrentPage=1,this.getJoinedContests(1)},resetMyDiscussPostList(){this.myDiscussPostList=null,this.myDiscussPostListCurrentPage=1,this.getDiscussionPosts(1)},resetMyTrainingList(){this.myTrainingList=null,this.myTrainingListCurrentPage=1,this.getMyTrainings(1)},resetMyProblemList(){this.myProblemList=null,this.myProblemListCurrentPage=1,this.getMyProblems(1)},resetMyContestList(){this.myContestList=null,this.myContestListCurrentPage=1,this.getMyContests(1)},resetFavoriteTrainingList(){this.favoriteTrainingList=null,this.favoriteTrainingListCurrentPage=1,this.getFavoriteTrainings(1)},requestFollowPage(t){var e=this;return i()(n.a.mark((function s(){var r;return n.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:if("following"!==(r=e.followingTabSelected)){s.next=5;break}return s.abrupt("return",e.getFollowPage("followings",t));case 5:if("follower"!==r){s.next=9;break}return s.abrupt("return",e.getFollowPage("followers",t));case 9:if("blacklist"!==r){s.next=14;break}if(e.isOwner){s.next=13;break}return e.followingTabSelected=void 0,s.abrupt("return");case 13:return s.abrupt("return",e.getFollowPage("blacklist",t));case 14:console.error("Unexpected `followingTabSelected`!");case 15:case"end":return s.stop()}}),s)})))()},getFollowPage(t,e){var s=this;return i()(n.a.mark((function r(){var a,i,o;return n.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return s.requesting=!0,r.prev=1,r.next=4,s.$lfeGetRoute({name:"api.user.".concat(t),query:{user:s.user.uid,page:e}});case 4:return a=r.sent,r.next=7,Object(d.n)(a.href);case 7:i=r.sent,o=i.users,s.followList=o,s.followListCurrentPage=e,r.next=17;break;case 13:return r.prev=13,r.t0=r.catch(1),r.next=17,s.$generalRequestExceptionCatcher(r.t0,{toast:!0});case 17:s.requesting=!1;case 18:case"end":return r.stop()}}),r,null,[[1,13]])})))()},getJoinedContests(t){var e=this;return i()(n.a.mark((function s(){var r,a,i;return n.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return e.requesting=!0,s.prev=1,s.next=4,e.$lfeGetRoute({name:"api.user.joined_contest",query:{page:t}});case 4:return r=s.sent,s.next=7,Object(d.n)(r.href);case 7:a=s.sent,i=a.contests,e.joinedContestList=i,e.joinedContestListCurrentPage=t,s.next=17;break;case 13:return s.prev=13,s.t0=s.catch(1),s.next=17,e.$generalRequestExceptionCatcher(s.t0,{toast:!0});case 17:e.requesting=!1;case 18:case"end":return s.stop()}}),s,null,[[1,13]])})))()},getDiscussionPosts(t){var e=this;return i()(n.a.mark((function s(){var r,a,i;return n.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return e.requesting=!0,s.prev=1,s.next=4,e.$lfeGetRoute({name:"api.user.created_posts",query:{page:t,orderBy:e.myDiscussPostOrderSelected}});case 4:return r=s.sent,s.next=7,Object(d.n)(r.href);case 7:a=s.sent,i=a.posts,e.myDiscussPostList=i,e.myDiscussPostListCurrentPage=t,s.next=17;break;case 13:return s.prev=13,s.t0=s.catch(1),s.next=17,e.$generalRequestExceptionCatcher(s.t0,{toast:!0});case 17:e.requesting=!1;case 18:case"end":return s.stop()}}),s,null,[[1,13]])})))()},getMyTrainings(t){var e=this;return i()(n.a.mark((function s(){var r,a,i;return n.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return e.requesting=!0,s.prev=1,s.next=4,e.$lfeGetRoute({name:"api.user.created_trainings",query:{page:t}});case 4:return r=s.sent,s.next=7,Object(d.n)(r.href);case 7:a=s.sent,i=a.trainings,e.myTrainingList=i,e.myTrainingListCurrentPage=t,s.next=17;break;case 13:return s.prev=13,s.t0=s.catch(1),s.next=17,e.$generalRequestExceptionCatcher(s.t0,{toast:!0});case 17:e.requesting=!1;case 18:case"end":return s.stop()}}),s,null,[[1,13]])})))()},getMyProblems(t){var e=this;return i()(n.a.mark((function s(){var r,a,i;return n.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return e.requesting=!0,s.prev=1,s.next=4,e.$lfeGetRoute({name:"api.user.created_problems",query:{page:t}});case 4:return r=s.sent,s.next=7,Object(d.n)(r.href);case 7:a=s.sent,i=a.problems,e.myProblemList=i,e.myProblemListCurrentPage=t,s.next=17;break;case 13:return s.prev=13,s.t0=s.catch(1),s.next=17,e.$generalRequestExceptionCatcher(s.t0,{toast:!0});case 17:e.requesting=!1;case 18:case"end":return s.stop()}}),s,null,[[1,13]])})))()},getMyContests(t){var e=this;return i()(n.a.mark((function s(){var r,a,i;return n.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return e.requesting=!0,s.prev=1,s.next=4,e.$lfeGetRoute({name:"api.user.created_contests",query:{page:t}});case 4:return r=s.sent,s.next=7,Object(d.n)(r.href);case 7:a=s.sent,i=a.contests,e.myContestList=i,e.myContestListCurrentPage=t,s.next=17;break;case 13:return s.prev=13,s.t0=s.catch(1),s.next=17,e.$generalRequestExceptionCatcher(s.t0,{toast:!0});case 17:e.requesting=!1;case 18:case"end":return s.stop()}}),s,null,[[1,13]])})))()},getFavoriteTrainings(t){var e=this;return i()(n.a.mark((function s(){var r,a,i,o,l,c;return n.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return e.requesting=!0,s.prev=1,s.next=4,e.$lfeGetRoute({name:"api.user.marked_trainings",query:{page:t}});case 4:return r=s.sent,s.next=7,Object(d.n)(r.href);case 7:a=s.sent,i=a.trainingParticipations,o=i.count,l=i.perPage,c=i.result,e.favoriteTrainingList={count:o,perPage:l,result:c.map((t=>t.training))},e.favoriteTrainingListCurrentPage=t,s.next=20;break;case 16:return s.prev=16,s.t0=s.catch(1),s.next=20,e.$generalRequestExceptionCatcher(s.t0,{toast:!0});case 20:e.requesting=!1;case 21:case"end":return s.stop()}}),s,null,[[1,16]])})))()},saveIntroduction(){var t=this;return i()(n.a.mark((function e(){var s;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.introductionUpdating=!0,e.next=3,t.$lfeGetRoute({name:"api.user.update_introduction"});case 3:return s=e.sent,e.prev=4,e.next=7,Object(d.o)(s.href,{introduction:t.introductionDraft});case 7:return t.$set(t.currentData.user,"introduction",t.introductionDraft),t.updateIntroduction=!1,e.next=11,t.$swalToastSuccess("更新成功");case 11:e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(4),e.next=17,t.$generalRequestExceptionCatcher(e.t0,{title:"操作失败"});case 17:t.introductionUpdating=!1;case 18:case"end":return e.stop()}}),e,null,[[4,13]])})))()}}},it=(s(1468),Object(g.a)(at,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("user-header-block",{staticClass:"user-header-container",attrs:{slot:"main","menu-items":t.menuItems,"menu-selected":t.menuSelected,user:t.user,"current-user":t.currentUser},on:{"menu-select":function(e){t.menuSelected=arguments[0]}},slot:"main"}),t._v(" "),"practice"===t.menuSelected?[t.practiceDisplayDetail.practice?s("sidebar-layout",{attrs:{"margin-top":".75em"}},[t.practiceDisplayDetail.elo?s("user-elo-chart",{attrs:{slot:"main",uid:t.user.uid,title:(t.$lfeRoot.isMobileMode?"":"比赛")+"等级分趋势图"},slot:"main"}):t._e(),t._v(" "),s("problem-id-list-block",{attrs:{slot:"main",problems:t.currentData.submittedProblems,title:"尝试过的题目"},slot:"main"}),t._v(" "),s("problem-id-list-block",{attrs:{slot:"main",problems:t.currentData.passedProblems,title:"已通过的题目","is-passed":""},slot:"main"}),t._v(" "),s("difficulty-statistics-block",{attrs:{slot:"side",difficulties:t.passedProblemDifficulties},slot:"side"})],1):t.practiceDisplayDetail.elo?s("full-layout",{attrs:{"margin-top":".75em"}},[s("user-elo-chart",{attrs:{uid:t.user.uid,title:(t.$lfeRoot.isMobileMode?"":"比赛")+"等级分趋势图"}})],1):t._e()]:t._e(),t._v(" "),"main"===t.menuSelected||"activity"===t.menuSelected?s("sidebar-layout",{attrs:{"margin-top":".75em"}},["main"===t.menuSelected?s("l-card",{attrs:{slot:"main"},slot:"main"},[t.isOwner?s("div",{staticStyle:{float:"right"}},[t.updateIntroduction?s("l-button",{attrs:{disabled:t.introductionUpdating,solid:"",size:"small",color:"red-3"},on:{click:t.saveIntroduction}},[t.introductionUpdating?s("font-awesome-icon",{attrs:{icon:"spinner-third",spin:""}}):[t._v("保存")]],2):t._e(),t._v(" "),s("l-button",{attrs:{size:"small"},on:{click:function(e){t.updateIntroduction=!t.updateIntroduction}}},[t._v("\n          "+t._s(t.updateIntroduction?"取消":"编辑")+"\n        ")])],1):t._e(),t._v(" "),s("h3",{staticClass:"lfe-h3"},[t._v(t._s(t.updateIntroduction?"编辑":"")+"个人介绍")]),t._v(" "),t.updateIntroduction?[s("markdown-palettes",{staticStyle:{height:"500px"},model:{value:t.introductionDraft,callback:function(e){t.introductionDraft=e},expression:"introductionDraft"}}),t._v(" "),s("p",{staticClass:"lfe-caption",staticStyle:{"line-height":"1"}},[t._v("\n          希望更丰富的展现？使用 "),s("l-link",{attrs:{to:"https://help.luogu.com.cn/rules/academic/handbook/markdown","raw-link":"",blank:""}},[t._v("Markdown")]),t._v("、"),s("l-link",{attrs:{to:"https://katex.org/docs/supported.html","raw-link":"",blank:""}},[t._v("KaTeX")]),t._v("。\n        ")],1)]:s("l-marked",{staticClass:"introduction",attrs:{content:t.user.introduction||"这个人很懒，什么都没写"}})],2):"activity"===t.menuSelected?s("l-card",{attrs:{slot:"main"},slot:"main"},[s("activity-block",{attrs:{user:t.user}})],1):t._e(),t._v(" "),t.$lfeRoot.isMobileMode?t._e():[s("l-card",{attrs:{slot:"side"},slot:"side"},[s("l-flex-info-rows",[s("span",{attrs:{slot:"left"},slot:"left"},[t._v("用户编号")]),t._v(" "),s("span",{staticClass:"info-content",attrs:{slot:"right"},slot:"right"},[t._v("\n            "+t._s(t.user.uid)+"\n          ")]),t._v(" "),s("span",{attrs:{slot:"left"},slot:"left"},[t._v("用户类型")]),t._v(" "),s("span",{staticClass:"info-content",attrs:{slot:"right"},slot:"right"},[t.user.isAdmin?[t._v("\n              管理员\n            ")]:t.user.isBanned?[t._v("\n              封禁用户\n            ")]:[t._v("\n              普通用户\n            ")]],2),t._v(" "),s("span",{attrs:{slot:"left"},slot:"left"},[t._v("注册时间")]),t._v(" "),s("span",{staticClass:"info-content",attrs:{slot:"right"},slot:"right"},[t._v("\n            "+t._s(t._f("moment")(t.user.registerTime,"YYYY-MM-DD"))+"\n          ")]),t._v(" "),t.user.ccfLevel>0?[s("span",{attrs:{slot:"left"},slot:"left"},[t._v("CCF 程序设计能力(仅供参考)")]),t._v(" "),s("span",{staticClass:"info-content",attrs:{slot:"right"},slot:"right"},[t._v("\n              "+t._s(t.user.ccfLevel)+" 级\n              "),s("c-c-f-badge",{attrs:{level:t.user.ccfLevel,link:""}})],1)]:t._e()],2)],1),t._v(" "),t.user.prize.length>0?s("l-card",{attrs:{slot:"side"},slot:"side"},[s("h3",{staticClass:"lfe-h3"},[s("font-awesome-icon",{staticStyle:{color:"var(--lfe-color--yellow-3)"},attrs:{icon:["fas","award"]}}),t._v("\n          获奖信息\n        ")],1),t._v(" "),s("l-flex-info-rows",{staticStyle:{"--info-row-margin-bottom":".5em"}},[t._l(t.user.prize,(function(e,r){return[s("span",{key:"prize-left-"+r,attrs:{slot:"left"},slot:"left"},[t._v("\n              ["+t._s(e.year)+"] "+t._s(e.contestName)+"\n            ")]),t._v(" "),s("span",{key:"prize-right-"+r,staticClass:"info-content",attrs:{slot:"right"},slot:"right"},[t._v("\n              "+t._s(e.prize)+"\n            ")])]}))],2)],1):t._e(),t._v(" "),t.user.elo?s("l-card",{attrs:{slot:"side"},slot:"side"},[s("h3",{staticClass:"lfe-h3"},[s("font-awesome-icon",{staticStyle:{color:"var(--lfe-color--blue-3)"},attrs:{icon:["fad","flag-checkered"]}}),t._v("\n          比赛等级分\n          ")],1),t._v(" "),s("l-flex-info-rows",{staticStyle:{"--info-row-margin-bottom":".5em"}},[s("span",{attrs:{slot:"left"},slot:"left"},[t._v("等级分")]),t._v(" "),s("span",{staticClass:"info-content",attrs:{slot:"right"},slot:"right"},[t._v(t._s(t.user.elo.rating))]),t._v(" "),s("span",{attrs:{slot:"left"},slot:"left"},[t._v("评定比赛")]),t._v(" "),s("span",{staticClass:"info-content",attrs:{slot:"right"},slot:"right"},[s("l-link",{attrs:{to:{name:"contest.show",params:{id:t.user.elo.contest.id}}}},[t._v(t._s(t.user.elo.contest.name))])],1),t._v(" "),s("span",{attrs:{slot:"left"},slot:"left"},[t._v("达成时间")]),t._v(" "),s("span",{staticClass:"info-content",attrs:{slot:"right"},slot:"right"},[t._v(t._s(t._f("moment")(1e3*t.user.elo.time,"YYYY-MM-DD")))]),t._v(" "),t.currentData.eloMax.rating!==t.user.elo.rating?[s("span",{attrs:{slot:"left"},slot:"left"},[t._v("历史最高")]),t._v(" "),s("span",{staticClass:"info-content",attrs:{slot:"right"},slot:"right"},[t._v(t._s(t.currentData.eloMax.rating))])]:t._e()],2)],1):t._e(),t._v(" "),t.user.rating?s("l-card",{attrs:{slot:"side"},slot:"side"},[s("h3",{staticClass:"lfe-h3"},[s("font-awesome-icon",{staticStyle:{color:"var(--lfe-color--blue-3)"},attrs:{icon:["fad","dice-d6"]}}),t._v("\n          咕值\n          "),s("l-link",{staticClass:"btn-checkbox",staticStyle:{color:"var(--lfe-color--grey-4)"},attrs:{to:"https://help.luogu.com.cn/manual/luogu/account/guzhi",blank:""}},[s("font-awesome-icon",{staticClass:"icon-right",attrs:{icon:["fas","question-circle"]}})],1)],1),t._v(" "),s("l-flex-info-rows",{staticStyle:{"--info-row-margin-bottom":".5em"}},[s("span",{attrs:{slot:"left"},slot:"left"},[t._v("基础信用")]),t._v(" "),s("span",{staticClass:"info-content",attrs:{slot:"right"},slot:"right"},[t._v(t._s(t.user.rating.basicRating))]),t._v(" "),s("span",{attrs:{slot:"left"},slot:"left"},[t._v("练习情况")]),t._v(" "),s("span",{staticClass:"info-content",attrs:{slot:"right"},slot:"right"},[t._v(t._s(t.user.rating.practiceRating))]),t._v(" "),s("span",{attrs:{slot:"left"},slot:"left"},[t._v("社区贡献")]),t._v(" "),s("span",{staticClass:"info-content",attrs:{slot:"right"},slot:"right"},[t._v(t._s(t.user.rating.socialRating))]),t._v(" "),s("span",{attrs:{slot:"left"},slot:"left"},[t._v("比赛情况")]),t._v(" "),s("span",{staticClass:"info-content",attrs:{slot:"right"},slot:"right"},[t._v(t._s(t.user.rating.contestRating))]),t._v(" "),s("span",{attrs:{slot:"left"},slot:"left"},[t._v("获得成就")]),t._v(" "),s("span",{staticClass:"info-content",attrs:{slot:"right"},slot:"right"},[t._v(t._s(t.user.rating.prizeRating))]),t._v(" "),s("span",{attrs:{slot:"left"},slot:"left"},[t._v("总咕值")]),t._v(" "),s("span",{staticClass:"info-content",attrs:{slot:"right"},slot:"right"},[t._v(t._s(t.user.rating.rating))]),t._v(" "),s("span",{attrs:{slot:"left"},slot:"left"},[t._v("达成时间")]),t._v(" "),s("span",{staticClass:"info-content",attrs:{slot:"right"},slot:"right"},[t._v(t._s(t._f("moment")(1e3*t.user.rating.calculateTime,"YYYY-MM")))])])],1):t._e()]],2):t._e(),t._v(" "),"mine"===t.menuSelected?s("full-layout",{attrs:{"margin-top":".75em"}},[s("l-card",{attrs:{padding:"none"}},[s("div",{staticClass:"sub-header"},[s("l-simple-select",{staticClass:"select-header",staticStyle:{display:"inline-flex"},attrs:{items:t.mineTabItems},model:{value:t.mineTabSelected,callback:function(e){t.mineTabSelected=e},expression:"mineTabSelected"}}),t._v(" "),"post"===t.mineTabSelected?s("span",{staticStyle:{float:"right"}},[t._v("\n          排序方式："),s("l-simple-select",{staticStyle:{display:"inline-flex"},attrs:{items:t.myDiscussPostOrderItems},model:{value:t.myDiscussPostOrderSelected,callback:function(e){t.myDiscussPostOrderSelected=e},expression:"myDiscussPostOrderSelected"}})],1):"team"===t.mineTabSelected?s("span",{staticStyle:{float:"right"}},[s("l-link",{attrs:{to:{name:"team.create"}}},[t._v("创建团队")])],1):"contest"===t.mineTabSelected?s("span",{staticStyle:{float:"right"}},[s("l-link",{attrs:{to:{hash:"#problem.contest"}}},[t._v("我创建的比赛")])],1):t._e()],1),t._v(" "),s("div",{staticClass:"sub-body"},[t.requesting?s("spinner-circle",{staticStyle:{margin:"0 auto","margin-top":"1.5rem"},attrs:{dark:"",size:"large"}}):"team"===t.mineTabSelected?s("div",{staticClass:"team-list"},[0===t.currentData.teams.length?s("p",[t._v("没有更多了")]):t._e(),t._v(" "),t._l(t.currentData.teams,(function(t,e){return s("div",{key:"teamMember-"+e},[s("my-team-card",{staticClass:"item",attrs:{"team-member":t}})],1)}))],2):"contest"===t.mineTabSelected?[t.joinedContestList&&t.joinedContestList.count?s("list-page-list-block",{attrs:{items:t.joinedContestList.result||[],"total-pages":t.getTotalPage(t.joinedContestList),"current-page":t.joinedContestListCurrentPage,"hide-border":""},on:{"go-page":function(e){return t.getJoinedContests(arguments[0])}},scopedSlots:t._u([{key:"item",fn:function(t){var e=t.item;return s("div",{staticClass:"row"},[s("contest-list-item",{attrs:{contest:e}})],1)}}],null,!1,2425589143)}):s("p",[t._v("没有更多了")])]:"post"===t.mineTabSelected?[t.myDiscussPostList&&t.myDiscussPostList.count?s("list-page-list-block",{attrs:{items:t.myDiscussPostList.result||[],"total-pages":t.getTotalPage(t.myDiscussPostList),"current-page":t.myDiscussPostListCurrentPage,"hide-border":""},on:{"go-page":function(e){return t.getDiscussionPosts(arguments[0])}},scopedSlots:t._u([{key:"item",fn:function(t){var e=t.item;return s("div",{staticClass:"row"},[s("post-list-item",{attrs:{post:e}})],1)}}],null,!1,2936978711)}):s("p",[t._v("没有更多了")])]:t._e()],2)])],1):t._e(),t._v(" "),"problem"===t.menuSelected?s("full-layout",{attrs:{"margin-top":".75em"}},[s("l-card",{attrs:{padding:"none"}},[s("div",{staticClass:"sub-header"},[s("l-simple-select",{staticClass:"select-header",staticStyle:{display:"inline-flex"},attrs:{items:t.problemTabItems},model:{value:t.problemTabSelected,callback:function(e){t.problemTabSelected=e},expression:"problemTabSelected"}}),t._v(" "),"training"===t.problemTabSelected?s("span",{staticStyle:{float:"right"}},[s("l-link",{attrs:{to:{name:"training.new",query:{type:"5"}}}},[t._v("创建题单")])],1):"problem"===t.problemTabSelected?s("span",{staticStyle:{float:"right"}},[s("l-link",{attrs:{to:{name:"problem.new",query:{type:"U"}}}},[t._v("创建题目")])],1):"contest"===t.problemTabSelected?s("span",{staticStyle:{float:"right"}},[s("l-link",{attrs:{to:{name:"contest.new"}}},[t._v("创建比赛")])],1):t._e()],1),t._v(" "),s("div",{staticClass:"sub-body"},[t.requesting?s("spinner-circle",{staticStyle:{margin:"0 auto","margin-top":"1.5rem"},attrs:{dark:"",size:"large"}}):"training"===t.problemTabSelected?[t.myTrainingList&&t.myTrainingList.count?s("list-page-list-block",{attrs:{items:t.myTrainingList.result||[],"total-pages":t.getTotalPage(t.myTrainingList),"current-page":t.myTrainingListCurrentPage,"hide-border":""},on:{"go-page":function(e){return t.getMyTrainings(arguments[0])}},scopedSlots:t._u([{key:"item",fn:function(t){var e=t.item;return s("div",{staticClass:"row"},[s("my-training-card",{attrs:{training:e,permission:""}})],1)}}],null,!1,1681297789)}):s("p",[t._v("没有更多了")])]:"problem"===t.problemTabSelected?[t.myProblemList&&t.myProblemList.count?s("list-page-list-block",{attrs:{items:t.myProblemList.result||[],"total-pages":t.getTotalPage(t.myProblemList),"current-page":t.myProblemListCurrentPage,"hide-border":""},on:{"go-page":function(e){return t.getMyProblems(arguments[0])}},scopedSlots:t._u([{key:"item",fn:function(t){var e=t.item;return s("div",{staticClass:"row"},[s("my-problem-card",{attrs:{problem:e,permission:""}})],1)}}],null,!1,2003972637)}):s("p",[t._v("没有更多了")])]:"contest"===t.problemTabSelected?[t.myContestList&&t.myContestList.count?s("list-page-list-block",{attrs:{items:t.myContestList.result||[],"total-pages":t.getTotalPage(t.myContestList),"current-page":t.myContestListCurrentPage,"hide-border":""},on:{"go-page":function(e){return t.getMyContests(arguments[0])}},scopedSlots:t._u([{key:"item",fn:function(t){var e=t.item;return s("div",{staticClass:"row"},[s("contest-list-item",{attrs:{contest:e}})],1)}}],null,!1,2425589143)}):s("p",[t._v("没有更多了")])]:t._e()],2)])],1):t._e(),t._v(" "),"favorite"===t.menuSelected?s("full-layout",{attrs:{"margin-top":".75em"}},[s("l-card",{attrs:{padding:"none"}},[s("div",{staticClass:"sub-header"},[s("l-simple-select",{staticClass:"select-header",staticStyle:{display:"inline-flex"},attrs:{items:t.favoriteTabItems},model:{value:t.favoriteTabSelected,callback:function(e){t.favoriteTabSelected=e},expression:"favoriteTabSelected"}})],1),t._v(" "),s("div",{staticClass:"sub-body"},[t.requesting?s("spinner-circle",{staticStyle:{margin:"0 auto","margin-top":"1.5rem"},attrs:{dark:"",size:"large"}}):"training"===t.favoriteTabSelected?[t.favoriteTrainingList&&t.favoriteTrainingList.count?s("list-page-list-block",{attrs:{items:t.favoriteTrainingList.result||[],"total-pages":t.getTotalPage(t.favoriteTrainingList),"current-page":t.favoriteTrainingListCurrentPage,"hide-border":""},on:{"go-page":function(e){return t.getFavoriteTrainings(arguments[0])}},scopedSlots:t._u([{key:"item",fn:function(t){var e=t.item;return s("div",{staticClass:"row"},[s("my-training-card",{attrs:{training:e}})],1)}}],null,!1,2747976480)}):s("p",[t._v("没有更多了")])]:t._e()],2)])],1):t._e(),t._v(" "),"following"===t.menuSelected?s("full-layout",{attrs:{"margin-top":".75em"}},[s("l-card",{attrs:{padding:"none"}},[s("div",{staticClass:"sub-header"},[s("l-simple-select",{staticClass:"select-header",attrs:{items:t.followingTabItems},model:{value:t.followingTabSelected,callback:function(e){t.followingTabSelected=e},expression:"followingTabSelected"}})],1),t._v(" "),s("div",{staticClass:"sub-body"},[t.requesting?s("spinner-circle",{staticStyle:{margin:"0 auto","margin-top":"1.5rem"},attrs:{dark:"",size:"large"}}):[t.followList&&t.followList.count?s("list-page-list-block",{attrs:{items:t.followList.result||[],"total-pages":t.getTotalPage(t.followList),"current-page":t.followListCurrentPage},on:{"go-page":function(e){return t.requestFollowPage(arguments[0])}},scopedSlots:t._u([{key:"item",fn:function(e){var r=e.item;return s("div",{staticClass:"row"},[s("user-list-item",{attrs:{user:r,"hide-followed-me":t.isOwner&&"follower"===t.followingTabSelected}})],1)}}],null,!1,3671737238)}):s("p",[t._v("没有更多了")])]],2)])],1):t._e()],2)}),[],!1,null,"6f2f45fc",null));e.default=it.exports}}]);